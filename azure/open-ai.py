import requests
import json

TOKENS = dict()
TOKENS['graph'] = {'Content-Type': 'application\\json', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6Im1yLWMwMWs2SlJmWDgwWi05OUp6dEtZd2dBUFh2UWFNbWZ2M1k5cldvSDgiLCJhbGciOiJSUzI1NiIsIng1dCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyIsImtpZCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyJ9.eyJhdWQiOiJodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb20iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9mYWJiNjFiOC0zYWZlLTRlNzUtYjkzNC1hNDdmNzgyYjhjZDcvIiwiaWF0IjoxNjkwMzg4MTY3LCJuYmYiOjE2OTAzODgxNjcsImV4cCI6MTY5MDM5MjkyNywiYWNjdCI6MCwiYWNyIjoiMSIsImFjcnMiOlsidXJuOnVzZXI6cmVnaXN0ZXJzZWN1cml0eWluZm8iXSwiYWlvIjoiQVZRQXEvOFRBQUFBVTIvd2hxeWgwWFpRSmphQm9wdTZiTVZlUm9uWVZ3S25XcWorSnhCQTc2cSs5bHN3V3Z0czZZK0dMNWMwY1BNZzk5UFNDODRsSVVmVVNkRmJWK1hnRmhnRWlHS05LY2o2OWhacDQ2WW9tdVU9IiwiYW1yIjpbInB3ZCIsIm1mYSJdLCJhcHBfZGlzcGxheW5hbWUiOiJNaWNyb3NvZnQgQXp1cmUgQ0xJIiwiYXBwaWQiOiIwNGIwNzc5NS04ZGRiLTQ2MWEtYmJlZS0wMmY5ZTFiZjdiNDYiLCJhcHBpZGFjciI6IjAiLCJkZXZpY2VpZCI6IjkyMTgxZTc4LWQ3YmUtNDgxZS04Mzc2LWU4YjlhNTgwMzIzOCIsImZhbWlseV9uYW1lIjoiVmVtdXJpIiwiZ2l2ZW5fbmFtZSI6IkFqYXkgS3VtYXIiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiIxOTIuMTYwLjE0Ni4xNjEiLCJuYW1lIjoiVmVtdXJpLCBBamF5S3VtYXIgKENvbnRyYWN0b3IpIiwib2lkIjoiZWY1NDMyZGQtZGZkNS00MjU4LWI5ZmQtYTBkMDc1ODU3ZjMwIiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTIxMzA1MjI0NzgtMTcyNTE4ODA5NC03ODY0OTg2MjctNzE1NDUyIiwicGxhdGYiOiI1IiwicHVpZCI6IjEwMDMyMDAyQTVDRUVEM0IiLCJyaCI6IjAuQVJNQXVHRzctdjQ2ZFU2NU5LUl9lQ3VNMXdNQUFBQUFBQUFBd0FBQUFBQUFBQUFUQUw0LiIsInNjcCI6IkF1ZGl0TG9nLlJlYWQuQWxsIERpcmVjdG9yeS5BY2Nlc3NBc1VzZXIuQWxsIGVtYWlsIEdyb3VwLlJlYWRXcml0ZS5BbGwgb3BlbmlkIHByb2ZpbGUgVXNlci5SZWFkV3JpdGUuQWxsIiwic2lnbmluX3N0YXRlIjpbImR2Y19tbmdkIiwiZHZjX2NtcCIsImlua25vd25udHdrIiwia21zaSJdLCJzdWIiOiJzeXQ3elhWS1EyVDZmN3I2Nm5xSWZLZFZOTTZQSXluMk9HdEE3MksxTGhvIiwidGVuYW50X3JlZ2lvbl9zY29wZSI6Ik5BIiwidGlkIjoiZmFiYjYxYjgtM2FmZS00ZTc1LWI5MzQtYTQ3Zjc4MmI4Y2Q3IiwidW5pcXVlX25hbWUiOiJBamF5S3VtYXIuVmVtdXJpQENWU0hlYWx0aC5jb20iLCJ1cG4iOiJBamF5S3VtYXIuVmVtdXJpQENWU0hlYWx0aC5jb20iLCJ1dGkiOiJaNU8tRkV0czZrZWl4a1R5X2NWREFBIiwidmVyIjoiMS4wIiwid2lkcyI6WyJmMmVmOTkyYy0zYWZiLTQ2YjktYjdjZi1hMTI2ZWU3NGM0NTEiLCJiNzlmYmY0ZC0zZWY5LTQ2ODktODE0My03NmIxOTRlODU1MDkiXSwieG1zX2NjIjpbIkNQMSJdLCJ4bXNfc3QiOnsic3ViIjoiVkZ5MnNtMldvdmxKWkFXbEY2RlZnUHhPTjFVcDdzM3NDa0RYVVRaWmxvMCJ9LCJ4bXNfdGNkdCI6MTM4NjM0ODg0Nn0.dgipAj3JmE3sG0TKVNj8RsMeVy9JWs1QPiGnU_1bI4GREox2BcLlDc9LYrXpz6Zu2iup8j632GDuhneZHm6l7TH93D9kEN_-mO9LqQ44mrQDcIRi1-uvWJiflD2T-Y2rgD8KRTGZeAqYXE6mqp2gjh11-QwUjV6S0-zGr6NkThQ1RZ9UW5yKc5jdK5IHaw5Ljn3KOF9q1VuPwvOOMZ78ew7f7fSd5qQp5CctFtUyNi8pNxwVxgFp_rBE0J97Y9OGYv-57rdx4AuMrn-Pcy0Y32J7YunoRADbfrUCPfrX7W12ChS9PDMACAjgkdqcgRgdqi8bX6Hn7r5bWIbMKlvGbw', 'ConsistencyLevel': 'eventual'}
TOKENS['rest'] = {'Content-Type': 'application\\json', 'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyIsImtpZCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuYXp1cmUuY29tIiwiaXNzIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvZmFiYjYxYjgtM2FmZS00ZTc1LWI5MzQtYTQ3Zjc4MmI4Y2Q3LyIsImlhdCI6MTY5MDM4ODE2OSwibmJmIjoxNjkwMzg4MTY5LCJleHAiOjE2OTAzOTM3MTQsImFjciI6IjEiLCJhaW8iOiJBVlFBcS84VEFBQUFnZEFuUFBXMEFyRnNKMXZ3aFdQYzRXZ2x0UjcrMHRzMGhSRUJHNFR3aU1QL2lTMVZqdGFwdi9wZlNCK2VyWlNrUnlaREpNMGV2dzdCUDUrR3JWaWdZbnpzR2RROHcrYlY0N2p6VDd6RXJrTT0iLCJhbXIiOlsicHdkIiwibWZhIl0sImFwcGlkIjoiMDRiMDc3OTUtOGRkYi00NjFhLWJiZWUtMDJmOWUxYmY3YjQ2IiwiYXBwaWRhY3IiOiIwIiwiZGV2aWNlaWQiOiI5MjE4MWU3OC1kN2JlLTQ4MWUtODM3Ni1lOGI5YTU4MDMyMzgiLCJmYW1pbHlfbmFtZSI6IlZlbXVyaSIsImdpdmVuX25hbWUiOiJBamF5IEt1bWFyIiwiZ3JvdXBzIjpbIjEyNDIyMTQ1LTFkYzUtNGRmYS1iNTZkLTY5ZDQ2ZWY2ZWYxYSIsIjk3M2YzMjA0LTQwYTctNGQ1Ni1iMmQ5LTE4NTgxNTFkZDc3YSIsImE2YWZiZTA2LTc1YzUtNDA2ZS1hMjg4LWU1ODdhMWE2MmM1NSIsImI2YjdmMzBjLTA3ZjktNGVhZC05ZjY1LTIwNjgxNGJmMjY2NSIsIjdlNzA1YjBkLWZkZjQtNDhmMy05OTg2LWE3Nzc5N2U3ODY4OSIsIjdhZWMwNTEyLWRjZGEtNGRmMS04ZTNlLWJjZmFiYmJjZjNiZSIsIjBhNWQxOTEyLTQzMTctNGZmYy05Y2VhLTUyNzJjYjE0YjZiNyIsImExNmUwMDE3LTMyZmEtNDE1NS04Yjg5LTFlOTAzYmQyYjEzYSIsImYyNmY1YzE5LTg4ZDctNDU2MS1iNmYxLWNjZWZhMTQ4NzQzOSIsIjliZjc4ODIwLTIwN2UtNDA0NC05YWUzLTgwMWJlYzEzYmQxNyIsIjMwYWNhMDI0LTYyNDAtNDVmNS1iMWMzLTBmNDE0Y2VjYjM1OSIsIjNjMDI0ZDI1LTNlMTctNDY1OS05Y2M4LTRkMzI5OTM1NzUwMSIsIjQ4OGVjNTI2LWIwNWMtNGIxYS1hYjAwLWE1MWE2NzhiNDQzNiIsIjYyOGZkZDI2LTE1NGEtNGQ2Ny1hNWUyLTA5ZmFjYmYwMzk5MCIsImZjMjFlMjM0LTkyNjQtNGQ4YS04YWZiLTJlYTFlOTUyNTBhNiIsIjJmNmU2ODNjLTY1ZGUtNDQzMi1iNWJmLTM0ZDEyZGZhODQ0YyIsIjU3NDk3YTNkLWJlYWEtNDUxOC05Mjk3LTg2YjZmYzkyYjc2MCIsImNmZDk5MjNlLWI2YTAtNDQxZi1hYzk0LWMxNjg1NGUwNmUxZCIsIjBkNzZjZDQxLTg1ZjUtNDY1YS1hMTI0LTgwZjYzMjhhNDhkMiIsIjcyZmJkMjQ1LTUxY2MtNGRkNC1hOGI5LTVkNmU3NDVmZDFjMyIsIjZhMWM1ZDQ3LTkxOTItNGU1Yi1hODg3LTI3NTc5MDI3NjMzOSIsIjc0ZDhhMzRhLWJmMGEtNGFjZC1hN2I0LTNjN2M2MjdmYTY0YiIsImM0OTQwMTRiLWQ0NzYtNDYwMC1hMjIyLWUxMmExM2Y2OWZiZiIsImU1OWUzYTU4LWNmNjEtNDVmMS04OGQ3LWJlMjZkYTI3OWU2YiIsIjU4Y2FiNTVhLWI0OTAtNDhmZS1iZGU0LTRhYzFlZDYzM2IwOSIsImI1YmQyZTVlLTAwYmEtNDMyOC05ZWIxLWQ2MWY3NDBmY2NmMyIsIjU3MjNkMDYyLTViODYtNDM4MS04M2FjLTNiZDBkOGI0ZWM3YiIsIjMzNjE2MzZjLTdkMzktNDdhYi04YTQwLTc3NmZlZGVmMjRjMCIsIjBiZjczMTc1LTU0MTEtNDBjYS04OGU1LWQ2NmIwYzM1NTZkNCIsIjIwM2Y3Yzc1LWJhOGYtNGRmYy04NTEwLTBlNTVlOTdjZjhkNSIsIjNiMzAyNzdkLTdhNDktNDM4Yi1iZDFjLTczZjM0YWFmZDJiNSIsImJjNGVkMTllLTNlMGUtNDhmYy1iZTgxLTFlM2NjNGNhMTJlYyIsIjFjNWNkNWFiLTJkYzQtNDZmYy1iYzBiLWNhODQxZTM5OWYwYiIsIjg3ODFjOWFmLTdmNjQtNDM1Ny05YTdiLWIwYzU5ZDk3Mzk1MSIsIjAyNTBiMWIxLWY3YWUtNGNkZC1iNjE3LWFhNDgyMDk3MWMzYiIsImVjNjUwY2MwLWYzNWQtNGFmNy1iODIwLWNhZWM0NTgxMDBlMiIsIjk4ZDQzYWM0LWYyMWItNGIzNy1iMWZmLTc4MzBlYmFhMWI1MiIsIjljNjBmYmM0LTE2NzYtNDIyNi04NDIzLTI2OWEyMDUyMzQ3MSIsImIzZmZhNmRhLTM0YTAtNGY4My1hZmI2LWU5ZmZjODRjNzc2YyIsIjQ1NmVlNmRkLWI1YWItNDIxYy04ZTE4LTQxYzk0ZjkwNjY5ZiIsImUxZDA0N2ViLWRiMTAtNDk4OC04NjA3LTVhYTkyYTgxM2I1ZiIsIjc4YTg1MmVjLWZlNDYtNDg4Yi04ZGY5LTg5ZjBlZjExYjEwNyIsIjA3ODI4ZmY3LWE1OTUtNGY0ZS1hNmE2LWU2MjBlZjM4NzNiMiIsIjhhZTdiYmY5LTcyMmMtNDY2Yi05MDNkLTBmZTBmZTgyNjRiMyIsIjBiZWUwOWZiLTU2YjgtNDE3Zi04NzAwLTNkNGQ5Zjg1NmMwYyJdLCJpcGFkZHIiOiIxOTIuMTYwLjE0Ni4xNjEiLCJuYW1lIjoiVmVtdXJpLCBBamF5S3VtYXIgKENvbnRyYWN0b3IpIiwib2lkIjoiZWY1NDMyZGQtZGZkNS00MjU4LWI5ZmQtYTBkMDc1ODU3ZjMwIiwib25wcmVtX3NpZCI6IlMtMS01LTIxLTIxMzA1MjI0NzgtMTcyNTE4ODA5NC03ODY0OTg2MjctNzE1NDUyIiwicHVpZCI6IjEwMDMyMDAyQTVDRUVEM0IiLCJyaCI6IjAuQVJNQXVHRzctdjQ2ZFU2NU5LUl9lQ3VNMTBaSWYza0F1dGRQdWtQYXdmajJNQk1UQUw0LiIsInNjcCI6InVzZXJfaW1wZXJzb25hdGlvbiIsInN1YiI6IlZPNEZmT2FxYU9lckVhZ3pMcVVBeUx4c1dnQzB5VXBBWW1WS0M2Q2t3NWMiLCJ0aWQiOiJmYWJiNjFiOC0zYWZlLTRlNzUtYjkzNC1hNDdmNzgyYjhjZDciLCJ1bmlxdWVfbmFtZSI6IkFqYXlLdW1hci5WZW11cmlAQ1ZTSGVhbHRoLmNvbSIsInVwbiI6IkFqYXlLdW1hci5WZW11cmlAQ1ZTSGVhbHRoLmNvbSIsInV0aSI6IjNwQzdod05wZlVPUGc0QzVXaU1pQUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbImYyZWY5OTJjLTNhZmItNDZiOS1iN2NmLWExMjZlZTc0YzQ1MSIsImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfY2MiOlsiQ1AxIl0sInhtc190Y2R0IjoxMzg2MzQ4ODQ2fQ.bRXhj_QcLeLqVkyAiLx2FATiFBeGqr1qvyoDxvfvSZx-aR8HkZB2ACLrVaF4fUiO8ozPPyYxbRGNnDsa6fDfk7B0FVnhrDjiw0x5ugRfeQWbyFp1OdT7St6kIGxgpwPYt9UFE_ZHEBYeZzsaF1vUOHIW2Ya1rzxlH0TXm796xXzkmBVRNMvFY5xY5qkcPZKvtmKPLt11MeRgnAhtJOkDQXcSzNwfvfALZYMVOG_t0HzUZyjxuploGKSKPyAevC38Gd4QAFofN8pSZtngxvjN_m5FO8h0f6Sa9ZWcW8W3uYJGgXPJpdll7KoRNr2A7zmWVj-TAG_7HsQlyh3FnCX7vQ'}

MGMT_API = 'https://management.azure.com'


def get_all_open_ai_services():
    URL = ""
    RESOURCE_NAME = "cog-corp-generai-dev-usc-openai"

scopes_list = ['/subscriptions/04e8d119-26d7-4836-8ecf-305ecd9638bd/resourceGroups/rg-hcbappspkcogaqa000/providers/Microsoft.CognitiveServices/accounts/speech-hcbappcogaqa', '/subscriptions/0d04a45a-1140-48f4-b51a-81d5e645addd/resourceGroups/rg-corp-dataext-dr-use2-app/providers/Microsoft.CognitiveServices/accounts/cog-corp-dataext-dr-use2-rxregaudit-PROD02', '/subscriptions/94b6574e-45af-42c9-bb33-f4d62f744fcd/resourceGroups/RG-CVS-USC-DataExtractor-DEV/providers/Microsoft.CognitiveServices/accounts/DataExtractor-FormRecognizer-FINANCE1-DEV1', '/subscriptions/6d3e1677-779b-4fa9-b2f8-5a942f3e7cb4/resourceGroups/rg-hcbdbspkmsdeqa000/providers/Microsoft.CognitiveServices/accounts/cs-hcbuse2msdeqa000', '/subscriptions/0d04a45a-1140-48f4-b51a-81d5e645addd/resourceGroups/rg-corp-dataext-uat-usc-app/providers/Microsoft.CognitiveServices/accounts/cog-corp-dataext-uat-usc-faxhub-medicaid', '/subscriptions/0d04a45a-1140-48f4-b51a-81d5e645addd/resourceGroups/rg-corp-dataext-uat-usc-app/providers/Microsoft.CognitiveServices/accounts/cog-corp-dataext-uat-usc-rxregaudit-UAT03', '/subscriptions/0d04a45a-1140-48f4-b51a-81d5e645addd/resourceGroups/rg-corp-generai-qa-usc-app/providers/Microsoft.CognitiveServices/accounts/cog-corp-generai-qa-usc-openai', '/subscriptions/6d3e1677-779b-4fa9-b2f8-5a942f3e7cb4/resourceGroups/rg-hcbdbspkmsdeprd000/providers/Microsoft.CognitiveServices/accounts/cs-hcbuse2msdeprd000', '/subscriptions/0d04a45a-1140-48f4-b51a-81d5e645addd/resourceGroups/rg-corp-ccenlx-qa-usc-app/providers/Microsoft.CognitiveServices/accounts/cog-corp-ccenlx-qa-usc-fr01', '/subscriptions/b6aa23cd-a2a8-4c42-9e8c-56309606457a/resourceGroups/rg-corp-qaot-use2-lab-003/providers/Microsoft.CognitiveServices/accounts/openai-qaot']
# scopes_list = ['/subscriptions/0d04a45a-1140-48f4-b51a-81d5e645addd/resourceGroups/rg-corp-generai-dev-usc-app/providers/Microsoft.CognitiveServices/accounts/cog-corp-generai-dev-usc-openai']
for scope in scopes_list:
    URL = MGMT_API + scope + "?api-version=2021-04-30"
    token = TOKENS["rest"]
    response = requests.get(URL, headers=token)
    resp_json = response.json()
    if resp_json["kind"] == "OpenAI":
        print(resp_json["name"])
